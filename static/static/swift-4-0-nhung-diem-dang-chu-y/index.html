<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Swift 4.0 những điểm đáng chú ý | GMO-Z.com Vietnam Lab Center</title>
    <meta name="description" content="Tổng hợp  những cải tiến từ phiên bản swift 4.0 giúp chúng ta viết code ngắn hơn, clear hơn. Đọc blog để tìm hiểu thêm chi tiết ..." />
    <meta property="fb:app_id" content="703042457154743" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google-site-verification" content="duCCqsDAWLg3POOfPMr6JiS4R0g0CjouGGM3fhsG0-0" />
    <link rel="shortcut icon" href="../favicon.ico">

    <!-- Stylesheet -->
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.min.css?v=52156bd6b0" />
    <link rel="stylesheet" type="text/css" href="../assets/css/font-awesome.min.css?v=52156bd6b0" />
    <link rel="stylesheet" type="text/css" href="../assets/css/atom-one-dark.min.css?v=52156bd6b0" />
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=52156bd6b0" />

    <script type="text/javascript" src="../assets/js/libs/jquery.min.js?v=52156bd6b0"></script>

    <meta name="description" content="Tổng hợp  những cải tiến từ phiên bản swift 4.0 giúp chúng ta viết code ngắn hơn, clear hơn. Đọc blog để tìm hiểu thêm chi tiết ..." />
    <link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="GMO-Z.com Vietnam Lab Center Technology Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Swift 4.0 những điểm đáng chú ý" />
    <meta property="og:description" content="Tổng hợp  những cải tiến từ phiên bản swift 4.0 giúp chúng ta viết code ngắn hơn, clear hơn. Đọc blog để tìm hiểu thêm chi tiết ..." />
    <meta property="og:url" content="https://blog.vietnamlab.vn/swift-4-0-nhung-diem-dang-chu-y/" />
    <meta property="og:image" content="https://drive.google.com/uc?id&#x3D;1mBtF2tA7gmHC-QTd4_oOToqjeE45Lv4e&amp;export&#x3D;download" />
    <meta property="article:published_time" content="2018-03-19T01:53:20.000Z" />
    <meta property="article:modified_time" content="2018-03-19T01:53:20.000Z" />
    <meta property="article:tag" content="Swift" />
    <meta property="article:tag" content="Swift 4.0" />
    
    <meta property="article:publisher" content="https://www.facebook.com/vietnamlab.vn" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Swift 4.0 những điểm đáng chú ý" />
    <meta name="twitter:description" content="Tổng hợp  những cải tiến từ phiên bản swift 4.0 giúp chúng ta viết code ngắn hơn, clear hơn. Đọc blog để tìm hiểu thêm chi tiết ..." />
    <meta name="twitter:url" content="https://blog.vietnamlab.vn/swift-4-0-nhung-diem-dang-chu-y/" />
    <meta name="twitter:image" content="https://drive.google.com/uc?id&#x3D;1mBtF2tA7gmHC-QTd4_oOToqjeE45Lv4e&amp;export&#x3D;download" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="T.C.Q" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Swift, Swift 4.0" />
    <meta property="og:image:width" content="697" />
    <meta property="og:image:height" content="404" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "GMO-Z.com Vietnam Lab Center Technology Blog",
        "url": "https://blog.vietnamlab.vn/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.vietnamlab.vn/favicon.ico",
            "width": 48,
            "height": 48
        }
    },
    "author": {
        "@type": "Person",
        "name": "T.C.Q",
        "image": {
            "@type": "ImageObject",
            "url": "https://drive.google.com/uc?id=1F8HRtTCzrnKzVWCm6NCYy8Hsyei_wlpa&export=download"
        },
        "url": "https://blog.vietnamlab.vn/author/quytc/",
        "sameAs": []
    },
    "headline": "Swift 4.0 những điểm đáng chú ý",
    "url": "https://blog.vietnamlab.vn/swift-4-0-nhung-diem-dang-chu-y/",
    "datePublished": "2018-03-19T01:53:20.000Z",
    "dateModified": "2018-03-19T01:53:20.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://drive.google.com/uc?id=1mBtF2tA7gmHC-QTd4_oOToqjeE45Lv4e&export=download",
        "width": 697,
        "height": 404
    },
    "keywords": "Swift, Swift 4.0",
    "description": "I. Khái niệm chung\nTrong phần này tôi giới thiệu về những cái tiến của bản swift 4.0. Đặc biệt việc\nthu gọn cú pháp ngắn gọn giúp việc viết sẽ code ngắn hơn và dễ nhớ hơn.\n\nSwift 4 được đi kèm trong Xcode 9, bạn có thể download bản mới nhất của Xcode 9\ntừ trang chủ Apple developer (cần có tài khoản developer) tại đây: Download Here\nBạn nên thử các tính năng mới của Swift 4 trên playground, thử các example, sửa\nthử chạy nó với các tình huống khác nhau để hiểu rõ hơn về nó.\n\nII. Migrating to Swift",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.vietnamlab.vn/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.36" />
    <link rel="alternate" type="application/rss+xml" title="GMO-Z.com Vietnam Lab Center Technology Blog" href="../rss/index.html" />
</head>

<body class="post-template tag-swift tag-swift-4-0 nav-closed">
    <script type="text/javascript" src="../assets/js/app/social.js?v=52156bd6b0"></script>
    <div id="fb-root"></div>

    <div id="header">
        <div id="blog-banner">
    <div class="row">
        <div class="col-md-offset-1 col-md-5">
            <img src="../assets/img/vnlab_logo.jpg?v=52156bd6b0" alt="VNLab Logo">
        </div>
        <div class="col-md-5 text-right coworker">
            <img src="../assets/img/vnlab_coworker.jpg?v=52156bd6b0" alt="VNLab coworker">
        </div>
        <div class="col-md-offset-1"></div>
    </div>
</div>

<nav class="navbar navbar-default">
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                        <li class="">
                            <a class="https://vietnamlab.vn" href="https://vietnamlab.vn">GMO-Z.com Vietnam Lab Center</a>
                        </li>
                        <li class="">
                            <a class="/tag/news/" href="../tag/news/index.html">Tin tức</a>
                        </li>
                        <li class="">
                            <a class="/" href="../index.html">Blog</a>
                        </li>
                        <li class="">
                            <a class="/tuyen-dung/" href="../tuyen-dung/index.html">★ Tuyển dụng ★</a>
                        </li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                        <li><a class="subscribe-button icon-feed" href="../rss/index.html">Đăng ký</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <div class="col-md-offset-1"></div>
        <!-- /.container-fluid -->
    </div>
</nav>

    </div>

    <div id="body" class="row">
        
<div class="col-lg-offset-1 col-lg-7">
        <article class="post tag-swift tag-swift-4-0 js-toc-content">
            <div class="post-header">
                <h2 class="post-title"><a href="index.html">Swift 4.0 những điểm đáng chú ý</a></h2>
            </div>

            <div class="post-meta">
                <div class="post-date" datetime="2018-03-19">
                    <i class="fa fa-clock-o" aria-hidden="true"></i> 19 March 2018
                </div>
                <div class="post-tag">
                    <i class="fa fa-tags" aria-hidden="true"></i> <a href="../tag/swift/index.html">Swift</a>, <a href="../tag/swift-4-0/index.html">Swift 4.0</a>
                </div>
            </div>

            <div class="post-featured post-featured-single">
                <div class="post-featured-img">
                        <img src="https://drive.google.com/uc?id&#x3D;1mBtF2tA7gmHC-QTd4_oOToqjeE45Lv4e&amp;export&#x3D;download" alt="Swift 4.0 những điểm đáng chú ý">
                </div>

                <div class="post-author">
                </div>

                <div class="post-share">
                    <div class="share-button">
                        <div class="fb-share-button" data-href="/swift-4-0-nhung-diem-dang-chu-y/" data-layout="button" data-size="large" data-mobile-iframe="true">
                        </div>
                    </div>

                    <div class="share-button">
                        <a class="twitter-share-button" data-size="large" href="https://twitter.com/intent/tweet?text=Swift%204.0%20nh%E1%BB%AFng%20%C4%91i%E1%BB%83m%20%C4%91%C3%A1ng%20ch%C3%BA%20%C3%BD">
                            Tweet
                        </a>
                    </div>
                </div>
            </div>

            <section class="post-content">
                <!--kg-card-begin: markdown--><h3 id="ikhinimchung">I. Khái niệm chung</h3>
<p>Trong phần này tôi giới thiệu về những cái tiến của bản swift 4.0. Đặc biệt việc thu gọn cú pháp ngắn gọn giúp việc viết sẽ code ngắn hơn và dễ nhớ hơn.</p>
<p>Swift 4 được đi kèm trong Xcode 9, bạn có thể download bản mới nhất của Xcode 9 từ trang chủ Apple developer (cần có tài khoản developer) tại đây: Download Here Bạn nên thử các tính năng mới của Swift 4 trên playground, thử các example, sửa thử chạy nó với các tình huống khác nhau để hiểu rõ hơn về nó.</p>
<h3 id="iimigratingtoswift4">II. Migrating to Swift 4</h3>
<p>Việc migration từ Swift 3 sang Swift 4 sẽ bớt cồng kềnh vất vả hơn so với việc chuyển từ 2.2 sang 3, hầu hết các phần thay đổi là phần thêm vào và không cần phải can thiệp sửa rất nhiều như khi lên Swift 3. Vì vậy mà Swift migration tool sẽ xử lý được hầu hết phần này cho chúng ta. Xcode 9 đồng thời support cả Swift 4, 3, 3.2, mỗi target trong project ta có thể chọn theo version Swift.</p>
<h3 id="iiiapichanges">III. API Changes</h3>
<h4 id="string">String</h4>
<p>String trong Swift 4 có rất nhiều cải tiến rất tiện lợi. String được coi như collection giống như trong swift 2.0, do đó ta không cần gọi tới thuộc tính charators của String như ở version 3.0. Ví dụ khi in từng kí tự trong string ta có thể làm như sau:</p>
<pre><code>let galaxy = &quot;Milky Way ?&quot;
for char in galaxy {
  print(char)
}
</code></pre>
<p>Thay vì như trước đây:</p>
<pre><code>let galaxy = &quot;Milky Way ?&quot;
for char in galaxy.charators {
  print(char)
}
</code></pre>
<p>Không chỉ có lặp, String còn được kế thừa các ưu điểm từ Sequence và Collection:</p>
<pre><code>galaxy.count       // 11
galaxy.isEmpty     // false
galaxy.dropFirst() // &quot;ilky Way ?&quot;
String(galaxy.reversed()) // &quot;? yaW ykliM&quot;

// Filter out any none ASCII characters
galaxy.filter { char in
  let isASCII = char.unicodeScalars.reduce(true, { $0 &amp;&amp; $1.isASCII })
  return isASCII
} // &quot;Milky Way &quot;
</code></pre>
<p>Cả String và SubString đều thực thi StringProtocol nên chúng giống nhau gần hết các function.</p>
<pre><code>// Grab a subsequence of String
let endIndex = galaxy.index(galaxy.startIndex, offsetBy: 3)
var milkSubstring = galaxy[galaxy.startIndex...endIndex]   // &quot;Milk&quot;
type(of: milkSubstring)   // Substring.Type

// Concatenate a String onto a Substring
milkSubstring += &quot;?&quot;     // &quot;Milk?&quot;

// Create a String from a Substring
let milkString = String(milkSubstring) // &quot;Milk?&quot;
</code></pre>
<h3 id="ivdictionaryandset">IV. Dictionary and Set</h3>
<h4 id="sequencebasedinitialization">Sequence Based Initialization</h4>
<p>Đầu tiên là khả năng tạo dictionary từ mảng cặp key-value (tuple)</p>
<pre><code>let nearestStarNames = [&quot;Proxima Centauri&quot;, &quot;Alpha Centauri A&quot;, &quot;Alpha Centauri B&quot;, &quot;Barnard's Star&quot;, &quot;Wolf 359&quot;]
let nearestStarDistances = [4.24, 4.37, 4.37, 5.96, 7.78]

// Dictionary from sequence of keys-values
let starDistanceDict = Dictionary(uniqueKeysWithValues: zip(nearestStarNames, nearestStarDistances)) 
// [&quot;Wolf 359&quot;: 7.78, &quot;Alpha Centauri B&quot;: 4.37, &quot;Proxima Centauri&quot;: 4.24, &quot;Alpha Centauri A&quot;: 4.37, &quot;Barnard's Star&quot;: 5.96]
</code></pre>
<h4 id="duplicatekeyresolution">Duplicate Key Resolution</h4>
<p>Bạn có thể xử lý việc khởi tạo dictionary khi key bị lặp lại, điều này sẽ giúp tránh cho việc ghi đè cặp key-value</p>
<pre><code>// Random vote of people's favorite stars
let favoriteStarVotes = [&quot;Alpha Centauri A&quot;, &quot;Wolf 359&quot;, &quot;Alpha Centauri A&quot;, &quot;Barnard's Star&quot;]

// Merging keys with closure for conflicts
let mergedKeysAndValues = Dictionary(zip(favoriteStarVotes, repeatElement(1, count: favoriteStarVotes.count)), uniquingKeysWith: +) // [&quot;Barnard's Star&quot;: 1, &quot;Alpha Centauri A&quot;: 2, &quot;Wolf 359&quot;: 1]
</code></pre>
<p>Đoạn code trên đã giúp ta xử lý việc lặp key &quot;Alpha Centauri A&quot; trong dictionary. Filtering Cả Dictionary và Set bây giờ đều có khả năng filter kết quả vào object mới:</p>
<pre><code>// Filtering results into dictionary rather than array of tuples
let closeStars = starDistanceDict.filter { $0.value &lt; 5.0 }
closeStars // Dictionary: [&quot;Proxima Centauri&quot;: 4.24, &quot;Alpha Centauri A&quot;: 4.37, &quot;Alpha Centauri B&quot;: 4.37]
</code></pre>
<h4 id="dictionarymappingdictionary">Dictionary Mapping Dictionary</h4>
<p>Nhận được phương thức rất hữu ích cho việc mapping giá trị trực tiếp:</p>
<pre><code>// Mapping values directly resulting in a dictionary
let mappedCloseStars = closeStars.mapValues { &quot;\($0)&quot; }
mappedCloseStars // [&quot;Proxima Centauri&quot;: &quot;4.24&quot;, &quot;Alpha Centauri A&quot;: &quot;4.37&quot;, &quot;Alpha Centauri B&quot;: &quot;4.37&quot;]
</code></pre>
<p><em><strong>Dictionary Default Values</strong></em></p>
<pre><code>// Subscript with a default value
let siriusDistance = mappedCloseStars[&quot;Wolf 359&quot;, default: &quot;unknown&quot;] // &quot;unknown&quot;

// Subscript with a default value used for mutating
var starWordsCount: [String: Int] = [:]
for starName in nearestStarNames {
  let numWords = starName.split(separator: &quot; &quot;).count
  starWordsCount[starName, default: 0] += numWords // Amazing 
}
starWordsCount // [&quot;Wolf 359&quot;: 2, &quot;Alpha Centauri B&quot;: 3, &quot;Proxima Centauri&quot;: 2, &quot;Alpha Centauri A&quot;: 3, &quot;Barnard's Star&quot;: 2]
</code></pre>
<h4 id="dictionarygrouping">Dictionary Grouping</h4>
<p>1 khả năng tuyệt vời nữa đó là việc khởi tạo Dictionary từ Sequence sau đó group lại theo tiêu chí khác nhau:</p>
<pre><code>// Grouping sequences by computed key
let starsByFirstLetter = Dictionary(grouping: nearestStarNames) { $0.first! }

// [&quot;B&quot;: [&quot;Barnard's Star&quot;], &quot;A&quot;: [&quot;Alpha Centauri A&quot;, &quot;Alpha Centauri B&quot;], &quot;W&quot;: [&quot;Wolf 359&quot;], &quot;P&quot;: [&quot;Proxima Centauri&quot;]]
</code></pre>
<h4 id="reservingcapacity">Reserving Capacity</h4>
<p>Cả Sequence và Dictionary đều có khả năng reverse lại dung lượng</p>
<pre><code>// Improved Set/Dictionary capacity reservation
starWordsCount.capacity  // 6
starWordsCount.reserveCapacity(20) // reserves at _least_ 20 elements of capacity
starWordsCount.capacity // 24
</code></pre>
<h3 id="vapiadditions">V. API Additions</h3>
<p>Bây giờ chúng ta sẽ xem các tính năng mới thêm vào của Swift 4. Những sự thay đổi này ko ảnh hướng tới code hiện có, chúng đơn giản là thêm tính năng mới vào.</p>
<p>Archival and Serialization<br>
Để seriallize và archive kiểu custom types do chúng ta tạo ra ở bản cũ khá loằng ngoằng. Với kiểu class ta cần subclass NSObject và thực thi NSCoding protocol, kiểu giá trị như struc hay enum chúng ta cần thực hiện các bước như tạo sub object có thể kế thừa NSObject, NSCoding ... Swift 4 giải quyết vấn đề này bằng cách mang serialization tới tất cả 3 kiêu type của Swift</p>
<pre><code>struct CuriosityLog: Codable {
  enum Discovery: String, Codable {
    case rock, water, martian
  }

  var sol: Int
  var discoveries: [Discovery]
}

// Create a log entry for Mars sol 42
let logSol42 = CuriosityLog(sol: 42, discoveries: [.rock, .rock, .rock, .rock])
</code></pre>
<p>Trong ví dụ này chúng ta có thể thấy rằng để object Swift có thể Ecode và decode chúng ta chỉ cần thực thi Codable protocol. Để encode object ta cần truyền object này tới encoder.</p>
<pre><code>let jsonEncoder = JSONEncoder() // One currently available encoder

// Encode the data
let jsonData = try jsonEncoder.encode(logSol42)
// Create a String from the data
let jsonString = String(data: jsonData, encoding: .utf8) // &quot;{&quot;sol&quot;:42,&quot;discoveries&quot;:[&quot;rock&quot;,&quot;rock&quot;,&quot;rock&quot;,&quot;rock&quot;]}&quot;
Bước cuối cùng là decode dữ liệu vào object cụ thể:

let jsonDecoder = JSONDecoder() // Pair decoder to JSONEncoder

// Attempt to decode the data to a CuriosityLog object
let decodedLog = try jsonDecoder.decode(CuriosityLog.self, from: jsonData)
decodedLog.sol         // 42
decodedLog.discoveries // [rock, rock, rock, rock]
</code></pre>
<h3 id="vikeyvaluecoding">VI. Key-Value Coding</h3>
<p>Swift 4 ta có thể tạo reference key paths tới instance</p>
<pre><code>struct Lightsaber {
  enum Color {
    case blue, green, red
  }
  let color: Color
}

class ForceUser {
  var name: String
  var lightsaber: Lightsaber
  var master: ForceUser?

  init(name: String, lightsaber: Lightsaber, master: ForceUser? = nil) {
    self.name = name
    self.lightsaber = lightsaber
    self.master = master
  }
}

let sidious = ForceUser(name: &quot;Darth Sidious&quot;, lightsaber: Lightsaber(color: .red))
let obiwan = ForceUser(name: &quot;Obi-Wan Kenobi&quot;, lightsaber: Lightsaber(color: .blue))
let anakin = ForceUser(name: &quot;Anakin Skywalker&quot;, lightsaber: Lightsaber(color: .blue), master: obiwan)
</code></pre>
<p>Ta vừa tạo ra vài instances của ForceUser bằng cách set name, lightsaber và master. Để tạo key path ta làm như sau:</p>
<pre><code>// Create reference to the ForceUser.name key path
let nameKeyPath = \ForceUser.name

// Access the value from key path on instance
let obiwanName = obiwan[keyPath: nameKeyPath]  // &quot;Obi-Wan Kenobi&quot;
</code></pre>
<p>Ở đây ta tạo key path cho thuộc tính name của ForceUser, sau đó sử dụng key path này :</p>
<pre><code>// Use keypath directly inline and to drill down to sub objects
let anakinSaberColor = anakin[keyPath: \ForceUser.lightsaber.color]  // blue

// Access a property on the object returned by key path
let masterKeyPath = \ForceUser.master
let anakinMasterName = anakin[keyPath: masterKeyPath]?.name  // &quot;Obi-Wan Kenobi&quot;

// Change Anakin to the dark side using key path as a setter
anakin[keyPath: masterKeyPath] = sidious
anakin.master?.name // Darth Sidious

// Note: not currently working, but works in some situations
// Append a key path to an existing path
//let masterNameKeyPath = masterKeyPath.appending(path: \ForceUser.name)
//anakin[keyPath: masterKeyPath] // &quot;Darth Sidious&quot;
</code></pre>
<h3 id="viimultilinestringliterals">VII. Multi-line String Literals</h3>
<p>Swift 4 đã hỗ trợ đối với text có nhiều dòng:</p>
<pre><code>let star = &quot;⭐️&quot;
let introString = &quot;&quot;&quot;
  A long time ago in a galaxy far,
  far away....

  You could write multi-lined strings
  without &quot;escaping&quot; single quotes.

  The indentation of the closing quotes
       below deside where the text line
  begins.

  You can even dynamically add values
  from properties: \(star)
  &quot;&quot;&quot;
print(introString) // prints the string exactly as written above with the value of star
</code></pre>
<h4 id="onesidedranges">One-Sided Ranges</h4>
<p>Ở Swift 3 ta bắt buộc phải có start, end index, nhưng ở Swift 4 ta chỉ cần 1 index là có thể tạo được sub array:</p>
<pre><code>// Collection Subscript
var planets = [&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;]
let outsideAsteroidBelt = planets[4...] // Before: planets[4..&lt;planets.endIndex]
let firstThree = planets[..&lt;4]          // Before: planets[planets.startIndex..&lt;4]
Infinite Sequence
Swift 4 cho phép định nghĩa mảng infinite khi start index là kiểu countable

// Infinite range: 1...infinity
var numberedPlanets = Array(zip(1..., planets))
print(numberedPlanets) // [(1, &quot;Mercury&quot;), (2, &quot;Venus&quot;), ..., (8, &quot;Neptune&quot;)]

planets.append(&quot;Pluto&quot;)
numberedPlanets = Array(zip(1..., planets))
print(numberedPlanets) // [(1, &quot;Mercury&quot;), (2, &quot;Venus&quot;), ..., (9, &quot;Pluto&quot;)]
</code></pre>
<h4 id="patternmatching">Pattern Matching</h4>
<p>Một trong những ưu điểm của one-sided ranges là parten matching:</p>
<pre><code>// Pattern matching

func temperature(planetNumber: Int) {
  switch planetNumber {
  case ...2: // anything less than or equal to 2
    print(&quot;Too hot&quot;)
  case 4...: // anything greater than or equal to 4
    print(&quot;Too cold&quot;)
  default:
    print(&quot;Justtttt right&quot;)
  }
}

temperature(planetNumber: 3) // Earth
</code></pre>
<h4 id="genericsubscripts">Generic Subscripts</h4>
<p>Ở Swift 4 subscripts có thể là Generic:</p>
<pre><code>struct GenericDictionary&lt;Key: Hashable, Value&gt; {
  private var data: [Key: Value]

  init(data: [Key: Value]) {
    self.data = data
  }

  subscript&lt;T&gt;(key: Key) -&gt; T? {
    return data[key] as? T
  }
}
</code></pre>
<p>Trong ví dụ này kiểu giá trị trả về là generic, ta có thể sử dụng generic subscript như sau:</p>
<pre><code>// Dictionary of type: [String: Any]
var earthData = GenericDictionary(data: [&quot;name&quot;: &quot;Earth&quot;, &quot;population&quot;: 7500000000, &quot;moons&quot;: 1])

// Automatically infers return type without &quot;as? String&quot;
let name: String? = earthData[&quot;name&quot;]

// Automatically infers return type without &quot;as? Int&quot;
let population: Int? = earthData[&quot;population&quot;]
Khônng chỉ return type có thể sử dụng là generic, actual subscript cũng có thể là generic:

extension GenericDictionary {
  subscript&lt;Keys: Sequence&gt;(keys: Keys) -&gt; [Value] where Keys.Iterator.Element == Key {
    var values: [Value] = []
    for key in keys {
      if let value = data[key] {
        values.append(value)
      }
    }
    return values
  }
}

// Array subscript value
let nameAndMoons = earthData[[&quot;moons&quot;, &quot;name&quot;]]        // [1, &quot;Earth&quot;]
// Set subscript value
let nameAndMoons2 = earthData[Set([&quot;moons&quot;, &quot;name&quot;])]  // [1, &quot;Earth&quot;]
</code></pre>
<h3 id="viiitngkt">VIII. Tổng kết</h3>
<p>Phiên bản của swift liên thục thay đổi cùng cùng với xcode vì vậy chúng ta cũng nên luôn luôn cập nhật những kiến thức mới thay đổi. Bài viết này tuy đơn gian nhưng tôi nghĩ cũng đủ để các bạn tiếp cận với phiên bản mới của swift</p>
<h3 id="ixthamkho">IX. Tham khảo</h3>
<ul>
<li><a href="https://swift.org/blog/swift-4-0-released/">https://swift.org/blog/swift-4-0-released/</a></li>
<li><a href="https://www.hackingwithswift.com/swift4">https://www.hackingwithswift.com/swift4</a></li>
<li><a href="https://stackoverflow.com/questions/46726077/module-compiled-with-swift-4-0-cannot-be-imported-in-swift-4-0-1">https://stackoverflow.com/questions/46726077/module-compiled-with-swift-4-0-cannot-be-imported-in-swift-4-0-1</a></li>
</ul>
<!--kg-card-end: markdown-->
            </section>

            <div class="post-footer">
                <div class="share-button">
                    <div class="fb-share-button" data-href="/swift-4-0-nhung-diem-dang-chu-y/" data-layout="button_count" data-size="large" data-mobile-iframe="true">
                    </div>
                </div>

                <div class="share-button">
                    <a class="twitter-share-button" data-size="large" href="https://twitter.com/intent/tweet?text=Swift%204.0%20nh%E1%BB%AFng%20%C4%91i%E1%BB%83m%20%C4%91%C3%A1ng%20ch%C3%BA%20%C3%BD">
                        Tweet
                    </a>
                </div>

                <div class="share-button">
                    <div class="g-plusone" data-href="/swift-4-0-nhung-diem-dang-chu-y/"></div>
                </div>
            </div>
            <div id="widget-for-reem-10-1"></div><script src="https://reem.vn/reem.js?m=10"></script>
        </article>


        <div class="post-comments">
            <div class="fb-comments" data-href="https://blog.vietnamlab.vn/swift-4-0-nhung-diem-dang-chu-y/" data-numposts="10" data-order-by="reverse_time" data-width="100%"></div>
        </div>
</div>
<div class="col-lg-3">
    <div id="sidebar">

    <gcse:search></gcse:search>

    <div class='sidebar-box'>
        <div id="widget-for-reem-4-1"></div><script src="https://163.44.192.76/rem.js?m=4"></script>
    </div>
    <div class="sidebar-box">
        <div class="sidebar-title h2">Tuyển dụng</div>
        <div class="sidebar-content">
          <a class="title" href="https://blog.vietnamlab.vn/tuyen-dung">
            <img
              style="max-width: 100%"
              src="https://drive.google.com/uc?id=1aYKdTvr-4CYterc6pPPBYoFezghrkGZf"
              alt="Tuyển dụng">
          </a>
        </div>
    </div>

    <div class="sidebar-box">
        <div class="sidebar-title h2">Facebook</div>
        <div class="sidebar-content">
            <div class="fb-page" data-href="https://www.facebook.com/vietnamlab.vn" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-width="500" data-show-facepile="true">
                <blockquote cite="https://www.facebook.com/vietnamlab.vn" class="fb-xfbml-parse-ignore">
                    <a href="https://www.facebook.com/vietnamlab.vn">GMO-Z.com Vietnam Lab Center</a>
                </blockquote>
            </div>
        </div>
    </div>

    <div class="sidebar-box">
        <div class="sidebar-title h2">Mục lục</div>
        <div class="sidebar-content js-toc"></div>
    </div>

    
    <div class="sidebar-box">
        <div class="sidebar-title h2">Tin tức</div>
        <div class="sidebar-content">
                    <div class="media">
                        <div class="media-left">
                            <a href="../bao-cao-nghien-cuu-quy-3/index.html">
                                    <img style="object-fit: cover" class="media-object" src="../content/images/1CSKMZA-hwBOtsfRK0JjjcNZUrF80lGLt.PNG" width="50" height="50" alt="Báo cáo nghiên cứu quý 3 năm 2020">
                            </a>
                        </div>
                        <div class="media-body">
                            <a class="title" href="../bao-cao-nghien-cuu-quy-3/index.html">Báo cáo nghiên cứu quý 3 năm 2020</a>
                            <span>, 30 October 2020</span>
                        </div>
                    </div>
                    <div class="media">
                        <div class="media-left">
                            <a href="../untitled-9/index.html">
                                    <img style="object-fit: cover" class="media-object" src="https://drive.google.com/uc?id&#x3D;19caFAeGojP08PERt9NhyH-tZln5o1dyt&amp;export&#x3D;download" width="50" height="50" alt="Rộn ràng đón tết trung thu 2020">
                            </a>
                        </div>
                        <div class="media-body">
                            <a class="title" href="../untitled-9/index.html">Rộn ràng đón tết trung thu 2020</a>
                            <span>, 25 September 2020</span>
                        </div>
                    </div>
                    <div class="media">
                        <div class="media-left">
                            <a href="../truyen-thong-hoc-tieng-nhat/index.html">
                                    <img style="object-fit: cover" class="media-object" src="https://drive.google.com/uc?id&#x3D;19mB9PZcsjUoxU5mbNYE49Ai0dMUlOPt8&amp;export&#x3D;download" width="50" height="50" alt="Truyền Thống học tiếng Nhật tại VNLAB.">
                            </a>
                        </div>
                        <div class="media-body">
                            <a class="title" href="../truyen-thong-hoc-tieng-nhat/index.html">Truyền Thống học tiếng Nhật tại VNLAB.</a>
                            <span>, 14 August 2020</span>
                        </div>
                    </div>
                    <div class="media">
                        <div class="media-left">
                            <a href="../team-building-vuon-quoc-gia-ba-vi-2020/index.html">
                                    <img style="object-fit: cover" class="media-object" src="https://drive.google.com/uc?id&#x3D;1vCDL4ACVJLRYbc_bMUF-XtOkBYCmlvFL&amp;export&#x3D;download" width="50" height="50" alt="Team Building Vườn Quốc Gia Ba Vì 2020">
                            </a>
                        </div>
                        <div class="media-body">
                            <a class="title" href="../team-building-vuon-quoc-gia-ba-vi-2020/index.html">Team Building Vườn Quốc Gia Ba Vì 2020</a>
                            <span>, 30 June 2020</span>
                        </div>
                    </div>
                    <div class="media">
                        <div class="media-left">
                            <a href="../bao-cao-nghien-cuu-quy-1-nam-2020/index.html">
                                    <img style="object-fit: cover" class="media-object" src="https://drive.google.com/uc?id&#x3D;13zVnT-6TUc6EkCcZox_nn2PHeBSxihYm&amp;export&#x3D;download" width="50" height="50" alt="Báo cáo nghiên cứu Quý 1 năm 2020">
                            </a>
                        </div>
                        <div class="media-body">
                            <a class="title" href="../bao-cao-nghien-cuu-quy-1-nam-2020/index.html">Báo cáo nghiên cứu Quý 1 năm 2020</a>
                            <span>, 20 April 2020</span>
                        </div>
                    </div>
        </div>
    </div>

    <div class="sidebar-box">
        <div class="sidebar-title h2">Key words</div>
        <div class="sidebar-content">
                    <span class="label label-default text-justify tag">
                        <a href="../tag/%2508google-apps-script/index.html" title="google apps script" class="tag tag-5c2c443cc00d970001d28829 google-apps-script">google apps script</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="https://blog.vietnamlab.vn/404/" title="#api" class="tag tag-5e813cddf7370d0001b812c4 hash-api">#api</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="https://blog.vietnamlab.vn/404/" title="#drakov" class="tag tag-5ad30b8d83719800014583ed drakov">#drakov</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="https://blog.vietnamlab.vn/404/" title="#mock" class="tag tag-5e798cb6f7370d0001b812ae hash-mock">#mock</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="https://blog.vietnamlab.vn/404/" title="#test" class="tag tag-5e798cb6f7370d0001b812af hash-test">#test</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="https://blog.vietnamlab.vn/404/" title="#web" class="tag tag-5e813cddf7370d0001b812c5 hash-web">#web</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/10-meo-2/index.html" title="10 mẹo" class="tag tag-5ad30b8d837198000145843b 10-meo-2">10 mẹo</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/10-tips/index.html" title="10 tips" class="tag tag-5ad30b8d8371980001458432 10-tips">10 tips</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/2017/index.html" title="2017" class="tag tag-5ad30b8d8371980001458463 2017">2017</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/2018/index.html" title="2018" class="tag tag-5ad30b8d8371980001458464 2018">2018</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/2020/index.html" title="2020" class="tag tag-5e05cac4bf919d0001802e79 2020">2020</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/adaptive-threshold/index.html" title="adaptive threshold" class="tag tag-5ad30b8d8371980001458462 adaptive-threshold">adaptive threshold</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/adb/index.html" title="adb" class="tag tag-5d479f1fbf919d00018028c9 adb">adb</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/adsense/index.html" title="adsense" class="tag tag-5ad30b8d83719800014583a8 adsense">adsense</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/aff/index.html" title="aff" class="tag tag-5b6119898371980001458b0d aff">aff</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/agile/index.html" title="agile" class="tag tag-5ad30b8d837198000145834b agile">agile</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/ai/index.html" title="AI" class="tag tag-5ad30b8d8371980001458441 ai">AI</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/alert/index.html" title="alert" class="tag tag-5c2c443cc00d970001d2882a alert">alert</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/algorithm/index.html" title="Algorithm" class="tag tag-5e3bb937f7370d0001b8122e algorithm">Algorithm</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/android/index.html" title="android" class="tag tag-5ad30b8d837198000145834c android">android</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/android-studio/index.html" title="android studio" class="tag tag-5ad30b8d83719800014583ce android-studio">android studio</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/anguar-cli/index.html" title="anguar cli" class="tag tag-5ad30b8d837198000145834d anguar-cli">anguar cli</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/angular2/index.html" title="angular2" class="tag tag-5ad30b8d837198000145834e angular2">angular2</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/angular9/index.html" title="angular9" class="tag tag-5ea7b0b5f7370d0001b8132d angular9">angular9</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/ansible/index.html" title="Ansible" class="tag tag-5ad30b8d8371980001458450 ansible">Ansible</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/ant/index.html" title="ant" class="tag tag-5ad30b8d8371980001458398 ant">ant</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/apache/index.html" title="apache" class="tag tag-5ad30b8d837198000145834f apache">apache</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/apache-hive/index.html" title="Apache Hive" class="tag tag-5ad30b8d8371980001458351 apache-hive">Apache Hive</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/apache-knox/index.html" title="Apache Knox" class="tag tag-5ad30b8d8371980001458352 apache-knox">Apache Knox</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/apache-knox-gateway/index.html" title="Apache Knox Gateway" class="tag tag-5ad30b8d8371980001458353 apache-knox-gateway">Apache Knox Gateway</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/apache-poi/index.html" title="Apache POI" class="tag tag-5ad30b8d83719800014583d4 apache-poi">Apache POI</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/api/index.html" title="api" class="tag tag-5ad30b8d83719800014583c1 api">api</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/apiary-editor/index.html" title="apiary editor" class="tag tag-5ad30b8d83719800014583bf apiary-editor">apiary editor</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/application/index.html" title="application" class="tag tag-5bc99b038f5b6d0001832bfa application">application</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/ar/index.html" title="ar" class="tag tag-5ad30b8d8371980001458404 ar">ar</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/artoolkit/index.html" title="artoolkit" class="tag tag-5ad30b8d8371980001458405 artoolkit">artoolkit</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/aso/index.html" title="aso" class="tag tag-5b6119898371980001458b08 aso">aso</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/association-rules/index.html" title="Association Rules" class="tag tag-5ad30b8d83719800014583c5 association-rules">Association Rules</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/asynchronous/index.html" title="asynchronous" class="tag tag-5ad30b8d8371980001458355 asynchronous">asynchronous</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/atom/index.html" title="atom" class="tag tag-5ad30b8d83719800014583fd atom">atom</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/autoencoder/index.html" title="autoencoder" class="tag tag-5bfa780f165b57000125175c autoencoder">autoencoder</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/automation-testing/index.html" title="automation testing" class="tag tag-5ad30b8d83719800014583fe automation-testing">automation testing</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/awk/index.html" title="awk" class="tag tag-5ad30b8d8371980001458356 awk">awk</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/aws/index.html" title="AWS" class="tag tag-5ee65390f7370d0001b813e7 aws">AWS</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/aws-certified/index.html" title="AWS Certified" class="tag tag-5f262d1bf7370d0001b8146b aws-certified">AWS Certified</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/backend/index.html" title="backend" class="tag tag-5b30687483719800014589a0 backend">backend</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/backend2018/index.html" title="backend2018" class="tag tag-5b30687483719800014589a1 backend2018">backend2018</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/bao-cao/index.html" title="báo cáo" class="tag tag-5f9a48c4128d0900010f5c3f bao-cao">báo cáo</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/basictype/index.html" title="BasicType" class="tag tag-5ad30b8d83719800014583d9 basictype">BasicType</a>
                    </span>
                    <span class="label label-default text-justify tag">
                        <a href="../tag/bcrypt/index.html" title="bcrypt" class="tag tag-5d96a6f2bf919d0001802d24 bcrypt">bcrypt</a>
                    </span>
        </div>
    </div>
</div>
</div>
<div class="col-lg-offset-1"></div>


    </div>

    <div id="footer">
        <div class="row">
            <div class="col-lg-offset-1 col-lg-10 copyright">
                <a href="../index.html">GMO-Z.com Vietnam Lab Center Technology Blog</a> &copy; 2020
            </div>
            <div class="col-lg-offset-1"></div>
        </div>
    </div>

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-166653304-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-166653304-2');
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59342535-1', 'auto');
  ga('send', 'pageview');
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Libraries -->
    <script type="text/javascript" src="../assets/js/libs/jquery.fitvids.min.js?v=52156bd6b0"></script>
    <script type="text/javascript" src="../assets/js/libs/tocbot.min.js?v=52156bd6b0"></script>
    <script type="text/javascript" src="../assets/js/libs/bootstrap.min.js?v=52156bd6b0"></script>
    <script type="text/javascript" src="../assets/js/libs/highlight.pack.js?v=52156bd6b0"></script>

    <!-- Custom JS -->
    <script type="text/javascript" src="../assets/js/app/index.js?v=52156bd6b0"></script>

    <!-- App Services -->
    <script type="text/javascript" charset="UTF-8" src="https://cache.img.gmo.jp/common_header/script.js" async></script>
    <script src="https://apis.google.com/js/platform.js" async defer>{ lang: 'vi' }</script>

</body>

</html>