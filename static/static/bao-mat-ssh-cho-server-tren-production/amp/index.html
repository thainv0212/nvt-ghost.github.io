<!DOCTYPE html>
<html ⚡>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <title>Bảo mật SSH cho server trên production</title>

    <meta name="description" content="Bảo mật SSH cho server trên production
ssh daemon" />
    <link rel="canonical" href="../index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <meta property="og:site_name" content="GMO-Z.com Vietnam Lab Center Technology Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Bảo mật SSH cho server trên production" />
    <meta property="og:description" content="Bảo mật SSH cho server trên production
ssh daemon" />
    <meta property="og:url" content="https://blog.vietnamlab.vn/bao-mat-ssh-cho-server-tren-production/" />
    <meta property="og:image" content="https://drive.google.com/uc?id&#x3D;0B05rqFCwNCjkM2NkWll5UUl1c0E&amp;export&#x3D;download" />
    <meta property="article:published_time" content="2017-09-05T10:47:00.000Z" />
    <meta property="article:modified_time" content="2017-09-05T11:00:20.000Z" />
    <meta property="article:tag" content="linux" />
    <meta property="article:tag" content="ssh" />
    <meta property="article:tag" content="security" />
    
    <meta property="article:publisher" content="https://www.facebook.com/vietnamlab.vn" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Bảo mật SSH cho server trên production" />
    <meta name="twitter:description" content="Bảo mật SSH cho server trên production
ssh daemon" />
    <meta name="twitter:url" content="https://blog.vietnamlab.vn/bao-mat-ssh-cho-server-tren-production/" />
    <meta name="twitter:image" content="https://drive.google.com/uc?id&#x3D;0B05rqFCwNCjkM2NkWll5UUl1c0E&amp;export&#x3D;download" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="KYO" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="linux, ssh, security" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="700" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "GMO-Z.com Vietnam Lab Center Technology Blog",
        "url": "https://blog.vietnamlab.vn/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.vietnamlab.vn/favicon.ico",
            "width": 48,
            "height": 48
        }
    },
    "author": {
        "@type": "Person",
        "name": "KYO",
        "image": {
            "@type": "ImageObject",
            "url": "https://drive.google.com/uc?id=0B05rqFCwNCjkM2hSUERPbEVlSVU&export=download",
            "width": 600,
            "height": 614
        },
        "url": "https://blog.vietnamlab.vn/author/longtv/",
        "sameAs": []
    },
    "headline": "Bảo mật SSH cho server trên production",
    "url": "https://blog.vietnamlab.vn/bao-mat-ssh-cho-server-tren-production/",
    "datePublished": "2017-09-05T10:47:00.000Z",
    "dateModified": "2017-09-05T11:00:20.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://drive.google.com/uc?id=0B05rqFCwNCjkM2NkWll5UUl1c0E&export=download",
        "width": 1400,
        "height": 700
    },
    "keywords": "linux, ssh, security",
    "description": "Giới thiệu\n * Đối với những ai từng làm việc với server đều biết ssh  là 1 công cụ không\n   thể thiếu để chúng ta có thể quản lý, thao tác đối với những remote server.\n   Tuy nhiên ssh cũng là 1 phương tiện được các hacker lợi dụng để chiếm quyền\n   kiểm soát của server, một khi hacker đã chiếm quyền kiểm soát server thì mức\n   độ nguy hiểm là ko thể đo lường được, cũng giống như trộm đã lẻn được vào nhà\n   chúng ta vậy.\n * Bài viết này sẽ giới thiệu những phương pháp thiết lập cũng như nguyên t",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.vietnamlab.vn/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.36" />
    <link rel="alternate" type="application/rss+xml" title="GMO-Z.com Vietnam Lab Center Technology Blog" href="../../rss/index.html" />

    <style amp-custom>
    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }

    html {
        overflow-x: hidden;
        overflow-y: scroll;
        font-size: 62.5%;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    body {
        min-height: 100vh;
        margin: 0;
        padding: 0;
        color: #3a4145;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
        font-size: 1.7rem;
        line-height: 1.55em;
        font-weight: 400;
        font-style: normal;
        background: #fff;
        scroll-behavior: smooth;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    p,
    ul,
    ol,
    li,
    dl,
    dd,
    hr,
    pre,
    form,
    table,
    video,
    figure,
    figcaption,
    blockquote {
        margin: 0;
        padding: 0;
    }

    ul[class],
    ol[class] {
        padding: 0;
        list-style: none;
    }

    img {
        display: block;
        max-width: 100%;
    }

    input,
    button,
    select,
    textarea {
        font: inherit;
        -webkit-appearance: none;
    }

    fieldset {
        margin: 0;
        padding: 0;
        border: 0;
    }

    label {
        display: block;
        font-size: 0.9em;
        font-weight: 700;
    }

    hr {
        position: relative;
        display: block;
        width: 100%;
        height: 1px;
        border: 0;
        border-top: 1px solid currentcolor;
        opacity: 0.1;
    }

    ::selection {
        text-shadow: none;
        background: #cbeafb;
    }

    mark {
        background-color: #fdffb6;
    }

    small {
        font-size: 80%;
    }

    sub,
    sup {
        position: relative;
        font-size: 75%;
        line-height: 0;
        vertical-align: baseline;
    }
    sup {
        top: -0.5em;
    }
    sub {
        bottom: -0.25em;
    }

    ul li + li {
        margin-top: 0.6em;
    }

    a {
        color: #1292EE;
        text-decoration-skip-ink: auto;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin: 0;
        font-weight: 700;
        color: #121212;
        line-height: 1.4em;
    }

    h1 {
        font-size: 3.4rem;
        line-height: 1.1em;
    }

    h2 {
        font-size: 2.4rem;
        line-height: 1.2em;
    }

    h3 {
        font-size: 1.8rem;
    }

    h4 {
        font-size: 1.7rem;
    }

    h5 {
        font-size: 1.6rem;
    }

    h6 {
        font-size: 1.6rem;
    }

    amp-img {
        height: 100%;
        width: 100%;
        max-width: 100%;
        max-height: 100%;
    }

    amp-img img {
        object-fit: cover;
    }

    .page-header {
        padding: 50px 5vmin 30px;
        text-align: center;
        font-size: 2rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .page-header a {
        color: #121212;
        font-weight: 700;
        text-decoration: none;
        font-size: 1.6rem;
        letter-spacing: -0.1px;
    }

    .post {
        max-width: 680px;
        margin: 0 auto;
    }

    .post-header {
        margin: 0 5vmin 5vmin;
        text-align: center;
    }

    .post-meta {
        margin: 1rem 0 0 0;
        text-transform: uppercase;
        color: #738a94;
        font-weight: 500;
        font-size: 1.3rem;
    }

    .post-image {
        margin: 0 0 5vmin;
    }

    .post-image img {
        display: block;
        width: 100%;
        height: auto;
    }

    .post-content {
        padding: 0 5vmin;
    }

    .post-content > * + * {
        margin-top: 1.5em;
    }

    .post-content [id]:not(:first-child) {
        margin: 2em 0 0;
    }

    .post-content > [id] + * {
        margin-top: 1rem;
    }

    .post-content [id] + .kg-card,
    .post-content blockquote + .kg-card {
        margin-top: 40px;
    }

    .post-content > ul,
    .post-content > ol,
    .post-content > dl {
        padding-left: 1.9em;
    }

    .post-content hr {
        margin-top: 40px;
    }

    .post .post-content hr + * {
        margin-top: 40px;
    }

    .post-content amp-img {
        background-color: #f8f8f8;
    }

    .post-content blockquote {
        position: relative;
        font-style: italic;
    }

    .post-content blockquote::before {
        content: "";
        position: absolute;
        left: -1.5em;
        top: 0;
        bottom: 0;
        width: 0.3rem;
        background: #000;
    }

    .post-content :not(.kg-card):not([id]) + .kg-card {
        margin-top: 40px;
    }

    .post-content .kg-card + :not(.kg-card) {
        margin-top: 40px;
    }

    .kg-card figcaption {
        padding: 1.5rem 1.5rem 0;
        text-align: center;
        font-weight: 500;
        font-size: 1.3rem;
        line-height: 1.4em;
        opacity: 0.6;
    }

    .kg-card figcaption strong {
        color: rgba(0,0,0,0.8);
    }

    .post-content :not(pre) code {
        vertical-align: middle;
        padding: 0.15em 0.4em 0.15em;
        border: #e1eaef 1px solid;
        font-weight: 400;
        font-size: 0.9em;
        line-height: 1em;
        color: #dc0050;
        background: #f0f6f9;
        border-radius: 0.25em;
    }

    .post-content > pre {
        overflow: scroll;
        padding: 16px 20px;
        color: #fff;
        background: #1F2428;
        border-radius: 5px;
        box-shadow: 0 2px 6px -2px rgba(0,0,0,.1), 0 0 1px rgba(0,0,0,.4);
    }

    .kg-embed-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
    }

    .kg-image-card img {
        margin: auto;
    }

    .kg-gallery-card + .kg-gallery-card {
        margin-top: 0.75em;
    }

    .kg-gallery-container {
        position: relative;
    }

    .kg-gallery-row {
        display: flex;
        flex-direction: row;
        justify-content: center;
    }

    .kg-gallery-image {
        width: 100%;
        height: 100%;
    }

    .kg-gallery-row:not(:first-of-type) {
        margin: 0.75em 0 0 0;
    }

    .kg-gallery-image:not(:first-of-type) {
        margin: 0 0 0 0.75em;
    }

    .kg-bookmark-card,
    .kg-bookmark-publisher {
        position: relative;
    }

    .kg-bookmark-container,
    .kg-bookmark-container:hover {
        display: flex;
        flex-wrap: wrap;
        flex-direction: row-reverse;
        color: currentColor;
        background: rgba(255,255,255,0.6);
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
        text-decoration: none;
        border-radius: 5px;
        box-shadow: 0 2px 6px -2px rgba(0, 0, 0, 0.1), 0 0 1px rgba(0, 0, 0, 0.4);
        overflow: hidden;
    }

    .kg-bookmark-content {
        flex-basis: 0;
        flex-grow: 999;
        padding: 20px;
        order: 1;
    }

    .kg-bookmark-title {
        font-weight: 600;
        font-size: 1.5rem;
        line-height: 1.3em;
    }

    .kg-bookmark-description {
        display: -webkit-box;
        max-height: 45px;
        margin: 0.5em 0 0 0;
        font-size: 1.4rem;
        line-height: 1.55em;
        overflow: hidden;
        opacity: 0.8;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }

    .kg-bookmark-metadata {
        margin-top: 20px;
    }

    .kg-bookmark-metadata {
        display: flex;
        align-items: center;
        font-weight: 500;
        font-size: 1.3rem;
        line-height: 1.3em;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .kg-bookmark-description {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
    }

    .kg-bookmark-metadata amp-img {
        width: 18px;
        height: 18px;
        max-width: 18px;
        max-height: 18px;
        margin-right: 10px;
    }

    .kg-bookmark-thumbnail {
        display: flex;
        flex-basis: 20rem;
        flex-grow: 1;
        justify-content: flex-end;
    }

    .kg-bookmark-thumbnail amp-img {
        max-height: 200px;
    }

    .kg-bookmark-author {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .kg-bookmark-publisher::before {
        content: "•";
        margin: 0 .5em;
    }

    .kg-width-full.kg-card-hascaption {
        display: grid;
        grid-template-columns: inherit;
    }

    .post-content table {
        border-collapse: collapse;
        width: 100%;
    }

    .post-content th {
        padding: 0.5em 0.8em;
        text-align: left;
        font-size: .75em;
        text-transform: uppercase;
    }

    .post-content td {
        padding: 0.4em 0.7em;
    }

    .post-content tbody tr:nth-child(2n + 1) {
        background-color: rgba(0,0,0,0.1);
        padding: 1px;
    }

    .post-content tbody tr:nth-child(2n + 2) td:last-child {
        box-shadow:
            inset 1px 0 rgba(0,0,0,0.1),
            inset -1px 0 rgba(0,0,0,0.1);
    }

    .post-content tbody tr:nth-child(2n + 2) td {
        box-shadow: inset 1px 0 rgba(0,0,0,0.1);
    }

    .post-content tbody tr:last-child {
        border-bottom: 1px solid rgba(0,0,0,.1);
    }

    .page-footer {
        padding: 60px 5vmin;
        margin: 60px auto 0;
        text-align: center;
        background-color: #f8f8f8;
    }

    .page-footer h3 {
        margin: 0.5rem 0 0 0;
    }

    .page-footer p {
        max-width: 500px;
        margin: 1rem auto 1.5rem;
        font-size: 1.7rem;
        line-height: 1.5em;
        color: rgba(0,0,0,0.6)
    }

    .powered {
        display: inline-flex;
        align-items: center;
        margin: 30px 0 0;
        padding: 6px 9px 6px 6px;
        border: rgba(0,0,0,0.1) 1px solid;
        font-size: 12px;
        line-height: 12px;
        letter-spacing: -0.2px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
        font-weight: 500;
        color: #222;
        text-decoration: none;
        background: #fff;
        border-radius: 6px;
    }

    .powered svg {
        height: 16px;
        width: 16px;
        margin: 0 6px 0 0;
    }

    @media (max-width: 600px) {
        body {
            font-size: 1.6rem;
        }
        h1 {
            font-size: 3rem;
        }

        h2 {
            font-size: 2.2rem;
        }
    }

    @media (max-width: 400px) {
        h1 {
            font-size: 2.6rem;
            line-height: 1.15em;
        }
        h2 {
            font-size: 2rem;
            line-height: 1.2em;
        }
        h3 {
            font-size: 1.7rem;
        }
    }
    </style>

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>

    

</head>

<body class="amp-template">
    <header class="page-header">
        <a href="../../index.html">
                GMO-Z.com Vietnam Lab Center Technology Blog
        </a>
    </header>

    <main class="content" role="main">
        <article class="post">

            <header class="post-header">
                <h1 class="post-title">Bảo mật SSH cho server trên production</h1>
                <section class="post-meta">
                    KYO -
                    <time class="post-date" datetime="2017-09-05">05 Sep 2017</time>
                </section>
            </header>
            <figure class="post-image">
                <amp-img src="https://drive.google.com/uc?id&#x3D;0B05rqFCwNCjkM2NkWll5UUl1c0E&amp;export&#x3D;download" width="600" height="340" layout="responsive"></amp-img>
            </figure>
            <section class="post-content">

                <h3 id="giithiu">Giới thiệu</h3>
<ul>
<li>Đối với những ai từng làm việc với server đều biết <strong>ssh</strong> là 1 công cụ không thể thiếu để chúng ta có thể quản lý, thao tác đối với những remote server. Tuy nhiên ssh cũng là 1 phương tiện được các hacker lợi dụng để chiếm quyền kiểm soát của server, một khi hacker đã chiếm quyền kiểm soát server thì mức độ nguy hiểm là ko thể đo lường được, cũng giống như trộm đã lẻn được vào nhà chúng ta vậy.</li>
<li>Bài viết này sẽ giới thiệu những phương pháp thiết lập cũng như nguyên tắc để đảm bảo cho chúng ta sử dụng <strong>ssh</strong> một cách an toàn, hạn chế tối đa những tấn công với mục đích xấu của những <em><strong>hacker</strong></em>.</li>
</ul>
<h3 id="nguynlhotngnhngfileconfigquantrngcasshservice">Nguyên lý hoạt động + những file config quan trọng của ssh service</h3>
<h4 id="nguynlhotng">Nguyên lý hoạt động</h4>
<ul>
<li>ssh là 1 giao thức bảo mật sử dụng để kết nối đến server Linux từ xa. ssh cung cấp giao diện dạng văn bản (text-based), sau khi bạn kết nối được đến ssh server thì mọi command bạn chạy trên local sẽ được thực thi trên ssh server. Khi kết nối đến ssh server thì ta được nhét vào 1 shell session của ssh server, ssh connection hoạt động trên cơ chế Client-Server. Trên Client cần phải có ssh client còn phía server thì cần ssh daemon ( ssh daemon sẽ luôn chạy để lắng nghe kết nối vào ssh server, mọi kết nối vào ssh server luôn được xác thực trước ).<br />
<amp-img src="https://drive.google.com/uc?id=0B05rqFCwNCjkMmhmNmJ2cVE0Q2c&amp;export=download" alt width="400" height="209" layout="responsive"></amp-img></li>
<li>ssh sử dụng mã hoá đối xứng (Symmetric Encryption, ví dụ AES, Blowfish, 3DES, CAST128, Arcfour) để mã hoá message và mã hoá bất đối xứng (Asymmetric Encryption, ví dụ RSA,<br />
DSA, DH) để xác thực người dùng.</li>
</ul>
<h4 id="nhngfileconfigquantrngcasshservice">Những file config quan trọng của ssh service</h4>
<p>Dưới đây sẽ liệt kê các file config quan trọng liên quan tới vấn đề bảo mật cho ssh service:</p>
<ul>
<li><strong>/etc/ssh/sshd_config</strong>: file config cho sshd (ssh server),  file này ta có thể config vị trí đặt file cho các file hosts key (<code>~/.ssh/known_hosts</code>) hoặc file authorized_keys (<code>~/.ssh/authorized_keys</code>)</li>
<li><strong>/etc/ssh/ssh_config</strong>: file config cho ssh client file này là config chung cho tất cả user trên máy đó, còn file <code>~/.ssh/config</code> sẽ dùng để config cho từng user riêng</li>
<li><strong>~/.ssh/config</strong>: tham khảo trên</li>
<li><strong>/etc/sysconfig/iptables</strong>: ko liên quan đến sshd nhưng file này quy định các rule về firewall cho hệ thống, sẽ dùng để thiết lập firewall cho sshd</li>
<li><strong>/etc/hosts.deny,/etc/hosts.allow</strong>: 2 file này là lưu config các host được phép truy cập or bị cấm truy cập vào server, được sử dụng bởi tcpd (tcp wrapper) và sshd. Ta chạy command <code>man 5 hosts_access</code> để xem syntax config cho file này.</li>
</ul>
<h4 id="checklistbomtchosshservice">Check list bảo mật cho ssh service</h4>
<p>Bảng sau đây sẽ liệt kê ra các phương pháp bảo mật cho ssh service, sẽ có 2 loại là</p>
<ul>
<li>[Nên]: chúng ta nên áp dụng biện pháp này ngay lập tức</li>
<li>[Tùy]: áp dụng sẽ bảo mật tốt hơn nhưng không nhất thiết phải sử dụng (vì có thể gây ra sự phiền toái trong quá trình vận hành server). Nên suy xét tình hình hệ thống để xem có áp dụng hay không.</li>
</ul>
<table>
<thead>
<tr>
<th>Phân loại</th>
<th>Mã</th>
<th>Giải thích sơ qua</th>
</tr>
</thead>
<tbody>
<tr>
<td>Network</td>
<td>1.1</td>
<td>Triệt hạ những service không cần thiết [Nên]</td>
</tr>
<tr>
<td>Network</td>
<td>1.2</td>
<td>Chỉ cho phép một số host được quyền truy cập vào server [Nên]</td>
</tr>
<tr>
<td>Network</td>
<td>1.3</td>
<td>Giới hạn số lượng ssh access vào ssh server [Tùy]</td>
</tr>
<tr>
<td>Network</td>
<td>1.4</td>
<td>Giới hạn truy cập từ chính ssh server ra ngoài [Tùy]</td>
</tr>
<tr>
<td>SSH service</td>
<td>2.1</td>
<td>Chỉ cho phép ssh protocol version 2 mới được truy cập [Nên]</td>
</tr>
<tr>
<td>SSH service</td>
<td>2.2</td>
<td>Sử dụng public key thay cho authenticate bằng password [Nên]</td>
</tr>
<tr>
<td>SSH service</td>
<td>2.3</td>
<td>Dừng <code>port forward</code> lại [Nên]</td>
</tr>
<tr>
<td>SSH service</td>
<td>2.4</td>
<td>Không sử dụng port 22 cho ssh nữa [Nên]</td>
</tr>
<tr>
<td>SSH service</td>
<td>2.5</td>
<td>hash file <code>known_hosts</code> [Nên]</td>
</tr>
<tr>
<td>SSH service</td>
<td>2.6</td>
<td>Chỉ cho phép 1 số user mới được quyền login [Tùy]</td>
</tr>
<tr>
<td>SSH service</td>
<td>2.7</td>
<td>Ko sử dụng ip v6 thì disable nó đi [Tùy]</td>
</tr>
<tr>
<td>SSH service</td>
<td>2.8</td>
<td>Ko sử dụng thuật toán mã hóa và ko sử dụng mã code lỗi yếu [Tùy]</td>
</tr>
<tr>
<td>Quản lý key</td>
<td>3.1</td>
<td>Sử dụng passphare cho private key [Nên]</td>
</tr>
<tr>
<td>Quản lý key</td>
<td>3.2</td>
<td>Không để private key trên ssh server  [Nên]</td>
</tr>
</tbody>
</table>
<p><em><strong>Phần tiếp theo sẽ đi vào giới thiệu cụ thể từng biện pháp phòng chống nhé!</strong></em></p>
<h3 id="chititccphngphpbomtchosshservice">Chi tiết các phương pháp bảo mật cho ssh service</h3>
<h4 id="11trithnhngservicekhngcnthit">1.1-Triệt hạ những service không cần thiết</h4>
<p>Đi kèm với ssh là các service Telnet, FTP. Ta phải kiểm tra những service nào có sử dụng Telnet, FTP mà ko cần thiết thì stop hết và không cho tự động khởi động lại nữa.</p>
<ul>
<li>Stop service</li>
</ul>
<pre><code>[root@sshsrv ~]# service &lt;service_name&gt; stop
</code></pre>
<ul>
<li>Không cho tự khởi động lại</li>
</ul>
<pre><code>[root@sshsrv ~]# /sbin/chkconfig &lt;service_name&gt; off ⏎
[root@sshsrv ~]# /sbin/chkconfig --list &lt;service_name&gt; # kiểm tra cấu hình
&lt;service_name&gt; 0:off 1:off 2:off 3:off 4:off 5:off 6:off
</code></pre>
<h4 id="12chchophpmtshostcquyntruycpvoserver">1.2-Chỉ cho phép một số host được quyền truy cập vào server</h4>
<p>Có 2 cách để giới hạn quyền truy cập là iptables và TCP wrap</p>
<p><strong>1.2.1 - Iptables</strong></p>
<p>Sử dụng iptables (firewall của linux) để cấu hình. Ta chỉ cho phép những ip chuẩn chỉ mới được truy cập vào server thông qua ssh.</p>
<ul>
<li>Ví dụ file cấu hình của iptables (lưu tại <code>/etc/sysconfig/iptables</code>)</li>
</ul>
<pre><code>-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp -s 192.168.1.0/24 --dport 22 -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp -s 198.51.100.0/24 --dport 22 -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp -s 203.0.113.0/32 --dport 22 -j ACCEPT
-A INPUT -j REJECT --reject-with icmp-host-prohibited
</code></pre>
<ul>
<li>Giải thích: chỉ những client có ip thuộc các dải mạng <code>192.168.1.0/24</code>, <code>198.51.100.0/24</code>, <code>203.0.113.0/32</code> sẽ được quyền truy cập vào ssh server, tất cả những ip khác sẽ bị cấm bởi config <code>-A INPUT -j REJECT --reject-with icmp-host-prohibited</code> ý nghĩa của <code>icmp-host-prohibited</code> là những truy cập bị cấm sẽ trả về lỗi type=3：Destination Unreachable hoặc code=10：Host administratively prohibited cho client</li>
<li>Cách kiểm tra: xem log ssh service qua command <code>/tail -f /var/log/secure</code> : những truy cập bị cấm sẽ có thông báo <code>refused connect from</code> như dưới đây:</li>
</ul>
<pre><code>Apr 29 12:00:04 sshsrv sshd[23071]: refused connect from 172.16.11.10 (172.16.11.10)
Apr 29 12:02:04 sshsrv sshd[23075]: refused connect from 172.16.11.10 (172.16.11.10)
Apr 29 12:02:36 sshsrv sshd[23078]: refused connect from 172.16.11.10 (172.16.11.10)
</code></pre>
<p><strong>1.2.2 - TCP_wrapper</strong></p>
<p>Config vào 2 file <code>/etc/hosts.deny</code> và <code>/etc/hosts.allow</code> , ví dụ:</p>
<ul>
<li>file <code>/etc/hosts.deny</code> : với sshd thì cấm tất</li>
</ul>
<pre><code>sshd : ALL
</code></pre>
<ul>
<li>file <code>/etc/hosts.allow</code> : chỉ cho phép truy cập với những dải mạng sau</li>
</ul>
<pre><code>sshd : 192.168.1.0/255.255.255.0
sshd : 198.51.100.0/255.255.255.0
sshd : 203.0.113.1/255.255.255.255
</code></pre>
<ul>
<li>Cách kiểm tra cũng thông qua log của sshd như trên iptables</li>
</ul>
<h4 id="13giihnslngsshaccessvosshserver">1.3-Giới hạn số lượng ssh access vào ssh server</h4>
<p>Tụi <em><strong>hacker</strong></em> tàu khựa chuyên môn tấn công brush force vào các server của ta, bạn cứ check log <code>/var/log/secure</code> sẽ thấy có 1 loạt các ip tấn công server ta liên tục</p>
<pre><code>Aug 13 03:32:08 host-133-130-124-187 sshd[11543]: Failed password for root from 121.18.238.123 port 38217 ssh2
Aug 13 03:32:10 host-133-130-124-187 sshd[11543]: Failed password for root from 121.18.238.123 port 38217 ssh2
Aug 13 03:32:13 host-133-130-124-187 sshd[11543]: Failed password for root from 121.18.238.123 port 38217 ssh2
</code></pre>
<p>Tụi <em><strong>hacker</strong></em> sẽ gửi đồng thời nhiều request truy cập cùng lúc từ cùng 1 server nên ta nên giới hạn request đồng thời để hạn chế kiểu tấn công brush force. Có 2 cách là dùng <strong>iptables hashlimit</strong> hoặc config sshd thông số <strong>MaxStartups</strong></p>
<p><strong>1.3.1 Iptables hashlimit</strong></p>
<ul>
<li>Config như sau</li>
</ul>
<pre><code>-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -m hashlimit --hashlimit-name ssh --hashlimit-burst
3 --hashlimit 2/m --hashlimit-mode srcip --hashlimit-htable-expire 180000 -j ACCEPT
</code></pre>
<p>Giải thích: từ cùng 1 máy client (<code>--hashlimit-mode srcip</code> =&gt; chế độ source ip) nếu có tới 3 kết nối đồng thời (<code>--hashlimit-burst 3</code>) sẽ chỉ cho 2 kết nối trên mỗi phút (<code>--hashlimit 2/m</code>), và những kết nối quá 3 phút sẽ bị ngắt (<code>htable-expire 180000</code>)</p>
<p><strong>1.3.3 OpenSSH MaxStartups</strong></p>
<p>Config trong file <code>: /etc/ssh/sshd_config</code></p>
<pre><code>MaxStartups 3 # Chỉ cho phép tối đa 3 liên kết xác thực ssh
LogLevel DEBUG # để log level debug để kiểm tra config có hoạt động hay ko
</code></pre>
<p>Check file log của ssh <code>/var/log/secure</code> ta sẽ thấy <code>debug1: drop connection #3</code> là thể hiện kết nối xác thực tới ssh đã bị chặn</p>
<pre><code>Aug 2 11:16:15 sshsrv sshd[1536]: debug1: Forked child 1544.
Aug 2 11:16:15 sshsrv sshd[1544]: Set /proc/self/oom_score_adj to 0
Aug 2 11:16:15 sshsrv sshd[1544]: debug1: rexec start in 5 out 5 newsock 5 pipe 9 sock 10
Aug 2 11:16:15 sshsrv sshd[1544]: debug1: inetd sockets after dupping: 3, 3
Aug 2 11:16:15 sshsrv sshd[1544]: Connection from 172.16.11.10 port 49784
Aug 2 11:16:18 sshsrv sshd[1536]: debug1: drop connection #3
Aug 2 11:16:18 sshsrv sshd[1536]: debug1: drop connection #3
</code></pre>
<h4 id="14giihntruycptchnhsshserverrangoi">1.4-Giới hạn truy cập từ chính ssh server ra ngoài</h4>
<p>Hạn chế chính ssh server truy cập lung tung, ví dụ như server của chúng ta bị tấn công kiểu OS command injection ( hacker sẽ thực tiêm những command của hệ thống vào thông qua web service chẳng hạn để thực hiện ssh đến một máy chủ nào đó nhằm mục đích xấu). Ta lại sử dụng iptables để phòng chống. Config cho chain OUTPUT của iptables như sau:</p>
<pre><code>-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A INPUT -j REJECT --reject-with icmp-host-prohibited
-A OUTPUT -p tcp -d 192.168.1.200 --dport 22 -j ACCEPT
-A OUTPUT -j DROP
</code></pre>
<h4 id="21chchophpsshprotocolversion2mictruycp">2.1-Chỉ cho phép ssh protocol version 2 mới được truy cập</h4>
<p>Config để phía ssh server chỉ cho phép những client nào sử dụng protocol ver 2 mới được quyền truy cập. Config trong file <code>/etc/ssh/sshd_config</code> như sau</p>
<pre><code>Protocol 2 
</code></pre>
<h4 id="22sdngpublickeythaychoauthenticatebngpassword">2.2-Sử dụng public key thay cho authenticate bằng password</h4>
<p>Bình thường ta sẽ login ssh bằng cách nhập password, nhưng để nâng cao tính bảo mật thì ta nên chuyển qua authen bằng public key. Config như sau trong <code>/etc/ssh/sshd_config</code> để đổi từ password sang public key</p>
<pre><code>HostbasedAuthentication no # ko xác thực theo host based 
RhostsAuthentication no # ko xác thực theo host based

RhostsRSAAuthentication no # ko xác thực theo host based RSA
PasswordAuthentication no # ko sử dụng authen bằng password
ChallengeResponseAuthentication no # ko sử dụng authen bằng password
PermitEmptyPasswords no # ko cho phép truy cập bằng password rỗng (đối với user ko setup pass)
RSAAuthentication no # Không authen RSA（version 1 thôi）
PubkeyAuthentication yes # sử dụng public key để authen
</code></pre>
<p>Sau khi thiết lập xong ta chạy command <code>sudo service sshd restart</code> để restart lại sshd<br />
Vậy ta sẽ login vào server qua ssh như thế nào sau khi thiết lập như trên. Ta phải</p>
<ul>
<li>1.Sinh ra cặp khóa (key pair) để dùng xác thực. Chạy câu lệnh sau ở bất kỳ đâu</li>
</ul>
<pre><code>ssh-keygen -t rsa -P '' -f &lt;path&gt;/mykey
</code></pre>
<ul>
<li>2.Copy public key của cặp khóa lên ssh server vào file <code>~/.ssh/authorized_keys</code> (lưu ý file này phải để phân quyền là 600 ), mục đích là add public key đã sinh ra vào key được xác thực trên ssh server.</li>
</ul>
<pre><code>cat mykey.pub &gt;&gt; ~/.ssh/authorized_keys 
</code></pre>
<ul>
<li>3.Lúc ssh vào ssh server ta sử dụng command sau (sử dụng private key để đăng nhập)</li>
</ul>
<pre><code>ssh &lt;user&gt;@&lt;ssh_server_ip&gt; -i &lt;key_path&gt;/mykey
</code></pre>
<h4 id="23dngportforwardli">2.3-Dừng port forward lại</h4>
<p>Mục đích là phòng chống việc portforward những port không được public ra ngoài. ssh có kiểu portforward để giúp mở những port từ máy client đến ssh server hoặc những host trong mạng private network của ssh server (ssh tunnel) nên nhiều lúc trở thành lỗ hổng để các hacker khai thác nhằm mục đích truy cập các service trong nội bộ của mạng private phía ssh server (thông thường private network sẽ có bảo mật rất yếu )</p>
<ul>
<li>Config trong file <code>/etc/ssh/sshd_config</code></li>
</ul>
<pre><code>AllowTcpForwarding no # cấm TCP port forward 
X11Forwarding no # cấm X11 port forward 
</code></pre>
<h4 id="24khngsdngport22chosshna">2.4-Không sử dụng port 22 cho ssh nữa</h4>
<p>Đổi sshd port trong file <code>/etc/ssh/sshd_config</code> như sau</p>
<pre><code>Port 22222
</code></pre>
<p>Lúc này để ssh vào ta phải thiết lập port number từ client <code>ssh &lt;user&gt;@&lt;ssh_server_ip&gt; -p 22222</code></p>
<h4 id="25hashfileknown_hosts">2.5-hash file known_hosts</h4>
<p>Config trong file <code>/etc/ssh/sshd_config</code> như sau</p>
<pre><code>HashKnownHosts yes 
</code></pre>
<p>Lúc này file ~/.ssh/known_hosts sẽ bị hash đi kiểu như sau</p>
<pre><code>[hanakosrv@sshsrv .ssh]$ cat ~/ssh/known_hosts
|1| dJaVQ/LE/aKuOy13+Z1NrPNj8Qc=|D6zc9n3ZiXUcWyVN88rLLWw5hgA= ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA7g
Bfuo5STGGNxQbNHBElQQvSnwShmmSRGdWDjP9mGgLbZVYu0J6ny6cVGpVvE2aNuVRnc+knT65eHF1aQZ0t+tIGvlV5c+8ObwNo7
MB9yHl2m5AWu5WQ8UcI3ZmXNDapOw5UXKy/viBp9BqPLFNlXLFpMNHkeWubCotc/dZzuVmsZgZ1BG9fJfNdvYjNsbS6WAdpp9qX
zDrl+6nWlLKuUazPvA5r7KZqv0ZSm5rUFGqepFibl0af4Psjmc8y1qVO4wqUm5sNMTBm2XofxTepnVAx5xrehWVPCd17lJcEbrB
WCs/vYmCDun9vHrtEJDGpT8mn4PiYZKKYrsNSOBE/5w==

</code></pre>
<h4 id="26chchophp1susermicquynlogin">2.6-Chỉ cho phép 1 số user mới được quyền login</h4>
<p>Để đảm bảo tính bảo mật thì ta nên cấm login qua root và chỉ cho phép login bằng 1 user duy nhất. Config trong file <code>/etc/ssh/sshd_config</code> như sau</p>
<pre><code>PermitRootLogin no # ko cho login bằng user root
AllowUsers kyo88 # chỉ cho phép user kyo88 login
</code></pre>
<p>Nhớ restart lại sshd nhé</p>
<h4 id="27kosdngipv6thdisableni">2.7-Ko sử dụng ip v6 thì disable nó đi</h4>
<p>Disable trong file <code>/etc/ssh/sshd_config</code> như sau</p>
<pre><code>AddressFamily inet # Đổi từ any sang inet
#ListenAddress :: # Commentout dòng này
</code></pre>
<h4 id="28kosdngthuttonmhavkosdngmcodeyu">2.8-Ko sử dụng thuật toán mã hóa và ko sử dụng mã code yếu</h4>
<p>Sử dụng thuật toán mã hoá đối xứng truyền dữ liệu lớn (Symmetric algorithms for encrypting the bulk of transferred data) + thuật toán mã hoá code xác thực (Message authentication code algorithms) mạnh để tăng tính bảo mật. Để kiểm tra config hiện tại chúng ta chạy lệnh sau</p>
<pre><code>[root@sshsrv ~]#ssh -vv localhost
OpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to localhost [::1] port 22.
debug1: Connection established.
debug1: permanently_set_uid: 0/0
debug1: identity file /root/.ssh/identity type -1
debug1: identity file /root/.ssh/identity-cert type -1
debug2: key_type_from_name: unknown key type '-----BEGIN'
debug2: key_type_from_name: unknown key type '-----END'
debug1: identity file /root/.ssh/id_rsa type 1
debug1: identity file /root/.ssh/id_rsa-cert type -1
debug1: identity file /root/.ssh/id_dsa type -1
debug1: identity file /root/.ssh/id_dsa-cert type -1
debug1: identity file /root/.ssh/id_ecdsa type -1
debug1: identity file /root/.ssh/id_ecdsa-cert type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.3
debug1: match: OpenSSH_5.3 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.3
debug2: fd 3 setting O_NONBLOCK
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa-cert-v01@openssh.com,ssh-dss-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-rsa,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96
debug2: kex_parse_kexinit: hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: mac_setup: found hmac-sha1
debug1: kex: server-&gt;client aes128-ctr hmac-sha1 none
debug2: mac_setup: found hmac-sha1
debug1: kex: client-&gt;server aes128-ctr hmac-sha1 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug2: dh_gen_key: priv key bits set: 155/320
</code></pre>
<p>Trong kết quả trên</p>
<ul>
<li><code>aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc</code> : hiển thị các thuật toán mã hoá đối xứng truyền dữ liệu lớn đang sử dụng. Các thuật toán nên dùng là <code>aes128-ctr,aes192-ctr,aes256-ctr</code></li>
<li><code>hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96</code> : hiển thị thuật toán mã hoá code xác thực đang sử dụng. Các thuật toán nên dùng là <code>hmac-sha2-256,hmac-sha2-512,hmac-sha1</code>.</li>
</ul>
<p>Để config thuật toán ta config như sau trong file <code>/etc/ssh/sshd_config</code>:</p>
<pre><code>Ciphers aes128-ctr,aes192-ctr,aes256-ctr 
MACs hmac-sha2-256,hmac-sha2-512,hmac-sha1 
</code></pre>
<h4 id="31sdngpasspharechoprivatekey">3.1-Sử dụng passphare cho private key</h4>
<p>Khi sử dụng public key để authen thay cho password, thì ta phải lưu trữ private key nhằm mục đích đăng nhập, để tăng tính bảo mật ta nên đặt passphare cho private key (lúc sử dụng key sẽ phải nhập password) đề phòng trường hợp hacker trộm được file private key của ta. Lúc sinh cặp key pair ta setting password thông qua option -P của lệnh ssh-keygen như sau:</p>
<pre><code>ssh-keygen -t rsa -P '&lt;passphare&gt;' -f &lt;path_file&gt;
</code></pre>
<h4 id="32khngprivatekeytrnsshserver">3.2-Không để private key trên ssh server</h4>
<p>Như tiêu đề thôi :P. Đừng để private key của bạn trên ssh server nhé.</p>
<h3 id="ktlun">Kết luận</h3>
<ul>
<li>Để đêm có thể ăn ngon ngủ yên, hạn chế rủi ro cho những chú server thân yêu, việc thiết lập bảo mật cho <strong>ssh</strong> là không thể thiếu được. Hy vọng bài viết sẽ giúp cho mọi người quản trị server của mình được tốt hơn, an toàn hơn, tránh xa tụi <em><strong>hacker</strong></em> đặc biệt là hội <em><strong>hacker</strong></em> Tung Của!</li>
</ul>
<h3 id="thamkho">Tham khảo</h3>
<ul>
<li><a href="http://www.nca.gr.jp/imgs/nca_ssh_server_config_v01.pdf">http://www.nca.gr.jp/imgs/nca_ssh_server_config_v01.pdf</a></li>
<li><a href="https://www.ssh.com/ssh/sshd_config/">https://www.ssh.com/ssh/sshd_config/</a></li>
<li><a href="https://www.ssh.com/ssh/config/">https://www.ssh.com/ssh/config/</a></li>
<li><a href="https://www.centos.org/docs/rhel-rg-en-3/s1-tcpwrappers-access.html">https://www.centos.org/docs/rhel-rg-en-3/s1-tcpwrappers-access.html</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/understanding-the-ssh-encryption-and-connection-process">https://www.digitalocean.com/community/tutorials/understanding-the-ssh-encryption-and-connection-process</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys">https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys</a></li>
<li><a href="https://docstore.mik.ua/orelly/networking_2ndEd/ssh/ch03_09.htm">https://docstore.mik.ua/orelly/networking_2ndEd/ssh/ch03_09.htm</a></li>
</ul>


            </section>

        </article>
    </main>
    <footer class="page-footer">
        <h3>GMO-Z.com Vietnam Lab Center Technology Blog</h3>
            <p>Blog chia sẻ kỹ thuật của thành viên công ty GMO-Z.com Vietnam Lab Center</p>
        <p><a href="../../index.html">Read more posts →</a></p>
        <a class="powered" href="https://ghost.org" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 156 156"><g fill="none" fill-rule="evenodd"><rect fill="#15212B" width="156" height="156" rx="27"/><g transform="translate(36 36)" fill="#F6F8FA"><path d="M0 71.007A4.004 4.004 0 014 67h26a4 4 0 014 4.007v8.986A4.004 4.004 0 0130 84H4a4 4 0 01-4-4.007v-8.986zM50 71.007A4.004 4.004 0 0154 67h26a4 4 0 014 4.007v8.986A4.004 4.004 0 0180 84H54a4 4 0 01-4-4.007v-8.986z"/><rect y="34" width="84" height="17" rx="4"/><path d="M0 4.007A4.007 4.007 0 014.007 0h41.986A4.003 4.003 0 0150 4.007v8.986A4.007 4.007 0 0145.993 17H4.007A4.003 4.003 0 010 12.993V4.007z"/><rect x="67" width="17" height="17" rx="4"/></g></g></svg> Published with Ghost</a>
    </footer>
    
</body>
</html>
